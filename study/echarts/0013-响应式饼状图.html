<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>响应式饼图</title>
    <style>
        *{margin: 0;padding: 0;}ul,li{list-style:none;}
        #dangers-number{
            border:1px solid #000;
            margin:5px auto;
        }
    </style>
</head>
<body>
<!-- https://gallery.echartsjs.com/editor.html?c=xBk0TyhGgG  参考地址 -->
    <div id="dangers-number" style="width:40%;height:500px;"> </div> 
    
    <script src="../../cssjs/jquery.min.js"></script>
    <script src="./js/echarts.min.js"></script>
    <script>
$(function(){
    //柱状图表函数 
    function chartBar(id){
        var myChart = echarts.init($(id)[0]);
        var data = [
            {
                name: '大浦管理处',
                value: 25,
            }, {
                name: '官窑管理处1',
                value: 25,
            }, {
                name: '官窑管理处2',
                value: 25,
            }
        ]
        var option = {
            legend: {
                show:true,
                x: 'center',
                y:'85%',
                selectedMode:false,
                data:data
            },
            series: [{
                type: 'pie',
                radius: '60%',
                center: ['50%', '40%'],
                data: data,
                label: {
                    normal: {
                        formatter:function(params){
                            return params.name+"\n"+params.percent+"%"
                        },
                        fontSize: 20,
                    }

                },
                labelLine: {
                    normal: {
                        length: 30,
                    }
                }
            }]
        };
        myChart.setOption(option);
        $(this).on('resize',function(){
            var w = $("#dangers-number").width();
            setTimeout(function(){
                if(w < 700){
                    option.series[0].radius = "40%";
                    option.series[0].labelLine.normal.length = 10;
                    option.series[0].label.normal.fontSize = 12;
                }else{
                    option.series[0].radius = "60%";
                    option.series[0].labelLine.normal.length = 30;
                    option.series[0].label.normal.fontSize = 20;
                }
                myChart.setOption(option);
                myChart.resize();
            },100)
        })
    }
    chartBar("#dangers-number");
})
    </script>
</body>
</html>
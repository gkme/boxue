<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <style>
        *{margin: 0;padding: 0;}ul,li{list-style:none;}
        #dangers-number{
            border:1px solid #000;
            margin:5px auto;
        }
    </style>
</head>
<body>
    <div id="dangers-number" style="width:800px;height:500px;"></div> 

    <script src="../../cssjs/jquery.min.js"></script>
    <script src="./js/echarts.min.js"></script>
    <script>
        $(function(){
            //柱状图表函数 
            function chartBar(id,data){
                var myChart = echarts.init($(id)[0]);
                $(this).on('resize',function(){
                    myChart.resize({});
                })
                var option = {
                    legend: {
                        orient: 'vertical',
                        icon:'circle',
                        x: '20px',
                        y:'center',
                        data:['已办','待办','在办','待审批','已审批','历史记录']
                    },
                    series: [
                        {
                            name:'访问来源',
                            type:'pie',
                            radius: ['50%', '70%'],
                            avoidLabelOverlap: false,
                            label: {
                                normal: {
                                    show: true,
                                    formatter:'{b}:{c}'
                                }
                            },
                            color:['#feb513', '#30ca40','#a147eb','#fcec13', '#fc605f','#8b572a','#e0109c'],
                            data:[
                                {value:0, name:'已办'},
                                {value:0, name:'待办'},
                                {value:0, name:'在办'},
                                {value:0, name:'待审批'},
                                {value:0, name:'已审批'},
                                {value:0, name:'历史记录'},
                            ]
                        }
                    ]
                };
                myChart.setOption(option);
                myChart.on('click', function (params) {  
                    console.log(params);
                    if(params.componentType == "xAxis"){
                        console.log("单击了"+params.value+"x轴标签");
                    }else{
                        console.log("点击了柱状图");
                    }
                });
            }
            chartBar("#dangers-number");
        })
    </script>
</body>
</html>
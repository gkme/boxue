<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <style>
        *{margin: 0;padding: 0;}ul,li{list-style:none;}
        #dangers-number{
            border:1px solid #000;
            margin:5px auto;
        }
    </style>
</head>
<body>
    <div id="dangers-number" style="width:800px;height:500px;"> </div> 
    
    <script src="../../cssjs/jquery.min.js"></script>
    <script src="./js/echarts.min.js"></script>
    <script>
        $(function(){
            //柱状图表函数 
            function chartBar(id,data){
                var myChart = echarts.init($(id)[0]);
                $(this).on('resize',function(){
                    myChart.resize({});
                })
                var option = {
                    color:["#4f81bd"],
                    title : {
                        text: '第一个标题',
                        left:'center',
                        top:"5px"
                    },
                    tooltip : {
                        trigger: 'axis',
                        formatter:function(params){//自动提示工具
                            return params[0].marker+params[0].axisValue+"&nbsp;&nbsp;完成率"+params[0].value+"%";

                        }
                    },
                    legend: {
                        data:['第一'],
                        right:20,
                        top:"center"
                    },
                    xAxis : [
                        {
                            type : 'category',
                            data : ['博罗区域','杭州地区','南京地区','济南地区','苏州地区','成都地区'],
                            triggerEvent:true
                        }
                    ],
                    yAxis : [
                        {
                            type : 'value',
                            axisLabel: {
                                formatter: '{value}%'
                            },
                            // min:function(){
                            //     var min = Math.min.apply(null,arr)-5;
                            //     min >= 1 ?  min : Math.min.apply(null,arr);
                            //     return min;
                            // },
                            // max:function(){
                            //     var max =  Math.max.apply(null,arr)+5;
                            //     max <= 105 ? max : Math.max.apply(null,arr);
                            //     return max;
                            // }
                            min:'dataMin',//y轴显示的最小值
                            max:'dataMax',//y轴显示的最大值
                        }
                    ],
                    series : [
                        {
                            name:'第一',
                            type:'bar',
                            barMaxWidth:30,//柱子的宽度
                            data:[10,20,30,40,50],
                            itemStyle: {//自定义柱状图上的数据
                                normal: {
                                    label: {
                                        show: true,
                                        position: 'top',
                                        textStyle: {
                                            color: '#000'
                                        },
                                        formatter:function(params){
                                            if(params.value==0){
                                                return '';
                                            }else
                                            {
                                                return params.value+"%";
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    ]
                };
                myChart.setOption(option);
                myChart.on('click', function (params) {  
                    console.log(params);
                    if(params.componentType == "xAxis"){
                        console.log("单击了"+params.value+"x轴标签");
                    }else{
                        console.log("点击了柱状图");
                    }
                });
            }
            chartBar("#dangers-number");
        })
    </script>
</body>
</html>
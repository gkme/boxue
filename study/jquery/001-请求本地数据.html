<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <script src="../../cssjs/jquery.min.js"></script>
</head>
<body>
<!-- 
数据格式建议使用下面的方式：
{
    "list":[
        {"item":"审计管理"},
        {"item":"菜单管理"},
    ]
}
 -->

<div>第一种：下面是load读取的是txt的内容</div>
<div id="div1"></div>
<script>
    $(function(){
        $("#div1").load("./data/demo.txt",function(data,status,xhr){
            console.log(status,xhr);
            //if(xhr.status == 404){}
            if(status == "error"){alert("无法请求，请开启服务查看 live-server --port=8456")}
            var data = JSON.parse(data).length;
            console.log("load读取text内容",data);
        });
    })
</script>
<br />

<div>第二种：下面是load读取的是json的内容</div>
<div id="div2"></div>
<script>
    $(function(){
        $("#div2").load("./data/demo.json",function(data,status,xhr){
            console.log(status);
            //if(xhr.status == 404){}
            if(status == "error"){alert("无法请求，请开启服务查看 live-server --port=8456")}
            var data = JSON.parse(data).length;
            console.log("load读取json内容",data);
        });
    })
</script>
<br />

<div>第三种：下面是ajax读取的是json的内容</div>
<div id="test"></div>
<br />

<div>第四种：下面是ajax读取的是json的内容按照格式展示</div>
<pre><code id="jsonge"></code></pre>
<script>
    $(function(){
        $.ajax({
            url:"./data/data.json",
            dataType: "json",
            success: function(data){
                var str="<ul>";
                $.each(data.list,function(i,n){
                    str+="<li>"+n["item"]+"</li>";
                })
                str+="</ul>";
                $("#test").append(str);

                /*按照json的方式展示在页面上*/
                var jdata = JSON.stringify(data, null, 4);
                $("#jsonge").html(jdata);
            },
            error:function(err){
                if(err){
                    alert("无法请求，请开启服务查看 live-server --port=8456")
                }
            }
        });
     });
</script>
<br />


</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
</head>
<body>
<a href="http://lbsyun.baidu.com/jsdemo.htm#a1_2">地图api示例</a>&nbsp;&nbsp;
<a href="http://lbsyun.baidu.com/cms/jsapi/reference/jsapi_reference.html">JavaScriptAPIv2.0类参考</a>&nbsp;&nbsp;
<a href="http://api.map.baidu.com/lbsapi/getpoint/index.html">拾取坐标系统</a>&nbsp;&nbsp;
<a href="http://lbsyun.baidu.com/index.php?title=jspopular">开发指南</a>&nbsp;&nbsp;
<br />
<div class="copybox"><xmp>
1.ak配置地址：/js/common/platformUI.js
var mapAk = "ifKcVYj28KCWBfEqLNbHmurkLwtNegh7";
备用ak：
6RSLDg5lTnqLu06IAVnGkmL1RZN7YzeA

2.使用步骤
HTML:
<div class="map" id="map" style="width: 100%;height: 560px;"></div>
<!-- 地图:样式写在行内 -->
js调用:
//网页启动地图的异步加载
function loadScript() {  
    var script = document.createElement("script");  
    script.src = "http://api.map.baidu.com/api?v=2.0&ak="+ mapAk +"&callback=mapInitialization";
    document.body.appendChild(script);
}
//首次加载地图时候的回调函数
function mapInitialization(){
    initialize(121.47,31.23,10);
}
//网页加载三百毫秒后调用函数
$(function(){
    setTimeout(function(){
        loadScript();
    }, 300)
})
//初始化地图函数
function initialize(longitude,latitude,level){//经纬度 缩放级别1-18
    map = new BMap.Map("map",{minZoom:8,maxZoom:18});  // 设置地图最大最小级别
    map.setMapStyle({        
        styleJson: [
                        {
                            "featureType": "subway",//去掉在地图上显示地铁
                            "elementType": "all",
                            "stylers": {
                                "visibility": "off"
                            }
                        }
                    ]    
    });
    map.centerAndZoom(new BMap.Point(longitude , latitude), level);// 初始化地图,设置中心点坐标和地图级别
    map.enableScrollWheelZoom(true);  //开启鼠标滚轮缩放
    map.addControl(new BMap.NavigationControl({
        anchor: BMAP_ANCHOR_BOTTOM_RIGHT,//控件将定位到地图的右下角 BMAP_ANCHOR_TOP_RIGHT是右上角
        type: BMAP_NAVIGATION_CONTROL_SMALL//仅包含平移和缩放按钮
    }));
    //地图上加标注点
    if(mapinfo.length>0){
        for(var i=0;i<mapinfo.length;i++){
            (function(i){
                var color;
                if(mapinfo[i].project_Type == 0){color="#bc008b"};
                if(mapinfo[i].project_Type == 1){color="#2b30ff"};
                if(mapinfo[i].project_Type == 2){color="#00b700"};
                if(mapinfo[i].project_Type == 3){color="#2897ff"};
                if(mapinfo[i].project_Type == 4){color="#ff8d39"};
                var point = new BMap.Point(mapinfo[i].longitude,mapinfo[i].latitude);
                map.centerAndZoom(point, 10);
                var opts = {
                  position : point,    // 指定文本标注所在的地理位置
                  offset   : new BMap.Size(-10, -10)    //设置文本偏移量
                }
                 var s ='<i style="display:inline-block;width:20px;height:20px;background-color:'+ color +';border-radius:50%;"></i>';
                var label = new BMap.Label(s, opts);  // 创建文本标注对象
                map.addOverlay(label);   
                label.addEventListener("click", function(){
                    mapinfodata(mapinfo[i].project_sid);//渲染地图信息窗里面的信息
                    map.centerAndZoom(point,12); //点击后移动到对应的位置
                });
            })(i)
        }
    }
}//初始化地图函数 结束符号

</xmp></div>


</body>
</html>
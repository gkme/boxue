<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <script src="jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="default/style.css">
    <script src="jstree.min.js"></script>

</head>
<body>
    <div id="container"></div>

    <script>
       $('#container').jstree({
            'core' : {
                'check_callback' : function (operation, node, node_parent, node_position, more) {
                    if(node.parent != node_parent.id){
                        return false;
                    }
                },
                'data' : [
                    {
                        "text" : "Root node",
                        "state" : {"opened" : true },
                        "id":1,
                        "pid":0,
                        "children" : [
                            {
                               "text" : "Child node 1",
                               "state" : { "selected" : true },
                               "id":2,
                               "pid":1,
                               "icon" : "glyphicon glyphicon-flash"
                            },
                            { "text" : "Child node 2", 
                              "id":3,
                              "pid":1,
                              "state" : { "disabled" : true },
                               "children" : [
                                    { "text" : "Child node 3",
                                      "state" : { "disabled" : true },
                                      "id":4,
                                      "pid":3,
                                    },
                                    { "text" : "Child node 4",
                                      "state" : { "disabled" : true },
                                      "id":5,
                                      "pid":3,
                                    },
                                    { "text" : "Child node 5",
                                      "state" : { "disabled" : true },
                                      "id":6,
                                      "pid":3,
                                    }
                               ]
                            }
                        ]
                    }
                ]
            },
            "crrm": {
                "move": {
                    "check_move": function (m) {
                        var p = this._get_parent(m.o);
                        if (!p) return false;
                        p = p == -1 ? this.get_container() : p;
                        if (p === m.np) return true;
                        if (p[0] && m.np[0] && p[0] === m.np[0]) return true;
                        return false;
                    }
                }
            },
            "dnd": {
                "drop_target": false,
                "drag_target": false
            },
            "plugins": ["themes", "html_data", "crrm", "dnd"]
        }).on('move_node.jstree', function(e,data){//拖拽之后的回调函数
             console.info(data);
        })


</script>
</body>
</html>
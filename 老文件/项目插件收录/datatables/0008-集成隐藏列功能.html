<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>添加行/增加列/隐藏列</title>
    <link rel="stylesheet" type="text/css" href="../../学习资料/bootstrap/css/bootstrap-theme.min.css">
    <script src="../../jquery.min.js"></script>
    <script src="../../学习资料/bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.dataTables_themeroller.css">
    <script src="js/jquery.dataTables.min.js"></script>
    <script src="js/dataTables.buttons.min.js"></script>
    <script src="js/buttons.colVis.min.js"></script>
    <script src="js/buttons.print.min.js"></script>
</head>
<body>
    <a href="https://datatables.net/extensions/buttons/examples/initialisation/plugins">官网案例</a>&nbsp;&nbsp;&nbsp;&nbsp;
    <a href="https://blog.csdn.net/shuai_wy/article/details/78564709">csdn上面的案例</a>
    <br />
    <br />

    <table id="myTable">
        <caption>table title and/or explanatory text</caption>
        <thead>
            <tr>
                <th>第一列</th>
                <th>第二列</th>
                <th>第三列</th>
                <th>第四列</th>
                <th>第五列</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>第一行1</td>
                <td>第一行2</td>
                <td>第一行3</td>
                <td>第一行4我</td>
                <td></td>
            </tr>
            <tr>
                <td>第二行1</td>
                <td>第二行2</td>
                <td>第二行3</td>
                <td>第二行4</td>
                <td></td>
            </tr>
            <tr>
                <td>第三行1</td>
                <td>第三行2</td>
                <td>第三行3</td>
                <td>第三行4</td>
                <td></td>
            </tr>
            <tr>
                <td>第四行1</td>
                <td>第四行2</td>
                <td>第四行3</td>
                <td>第四行4</td>
                <td></td>
            </tr>
        </tbody>
    </table>
   
    <script>
        $.fn.dataTable.ext.buttons.alert = {
            className: 'buttons-alert',
            action: function ( e, dt, node, config ) {
                alert( this.text() );
            }
        };
        $.fn.dataTable.ext.buttons.reload = {
            text: 'Reload',
            action: function ( e, dt, node, config ) {
                table.ajax.reload();
            }
        };
        var table;
        var newBtn = [
                    'reload',
                    'colvis',
                    {
                        text: 'My button 1',
                        "action":function(e,dt,node,config){
                            console.log(11);
                        },
                    },
                    {
                        extend: 'alert',
                        text: 'My button 2'
                    },
                    {
                        extend: 'alert',
                        text: 'My button 3'
                    }
                ]
        $(function(){
            table = $('#myTable').DataTable({
                dom: 'Bfrtip',
                buttons: newBtn 
            });
            
            table.on('order.dt search.dt',
                function () {
                    table.column(4,{
                        search: 'applied',
                        order: 'applied'
                    }).nodes().each(function (cell, i) {
                       cell.innerHTML = "我是新增的" + i;
                    });
            }).draw();

            var column = table.column(3);//隐藏第四列
            column.visible(!column.visible());//可用于不断的隐藏/显示
        })
    </script> 
</body>
</html>